<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Zolo</title>
    <meta charset="utf-8">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <script src="./js/jquery-3.3.1.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/fontawesome.js"></script>
    <!-- Generate MD5 string-->
    <script src="./js/crypto-js.min.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
    <!-- Include Firebase Database -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-messaging.js"></script>
    <script src="./js/script.js"></script>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div id="helloPage" class="full-screen" style="display: block">
        <div class="header logo">Zolo</div>
        <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1" class=""></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2" class=""></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=777&amp;fg=555&amp;text=First slide" alt="First slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_174876f42ab%20text%20%7B%20fill%3A%23555%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_174876f42ab%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22285.9140625%22%20y%3D%22217.7%22%3EFirst%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                        data-holder-rendered="true">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>First slide label</h5>
                        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=666&amp;fg=444&amp;text=Second slide" alt="Second slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_174876f42ad%20text%20%7B%20fill%3A%23444%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_174876f42ad%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23666%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22247.3125%22%20y%3D%22217.7%22%3ESecond%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                        data-holder-rendered="true">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Second slide label</h5>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" data-src="holder.js/800x400?auto=yes&amp;bg=555&amp;fg=333&amp;text=Third slide" alt="Third slide [800x400]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_174876f42af%20text%20%7B%20fill%3A%23333%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_174876f42af%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23555%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22276.9921875%22%20y%3D%22217.7%22%3EThird%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                        data-holder-rendered="true">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Third slide label</h5>
                        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                    </div>
                </div>
            </div>
            <!-- <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a> -->
        </div>
        <div class="main">
            <div class="group-btn">
                <!-- <button type="button" id="btnLogin" data-languages="login" btn-type="confirm" action="check_data" onclick="open_popup(this)">ĐĂNG NHẬP</button> -->
                <button type="button" id="btnLogin" data-languages="login" onclick="next(this, 'loginPage')">ĐĂNG NHẬP</button>
                <button type="button" id="btnRegister" data-languages="register" onclick="register(this, 'registerPage1', 'go_to_register')">ĐĂNG KÝ</button>
            </div>
        </div>
        <div class="footer">
            <ul class="group-language">
                <li class="item-language active" onclick="chooseLanguage(this, 'vi')">Tiếng Việt</li>
                <li class="item-language" onclick="chooseLanguage(this, 'en')">English</li>
                <li class="item-language" onclick="chooseLanguage(this, 'cn')">中文</li>
            </ul>
        </div>
    </div>
    <div id="loginPage" class="loginPage full-screen" style="display: none">
        <div class="header">
            <img src="./images/back.svg" class="btn-back" alt="" onclick="back(this, 'helloPage')"> <span data-languages="login">Đăng nhập<span>
        </div>
        <div class="zolo-content">
            <!-- <input type="text" class="zolo-input" placeholder="Tên đầy đủ" data-languages="full-name" name="fullname"
                value="" autocomplete="off" />
            <input type="text" class="zolo-input" placeholder="Tên đầy đủ" data-languages="full-name" name="fullname"
                value="" autocomplete="off" /> -->
            <i class="btn-next" alt="" onclick="register(this, 'registerPage2', 'write_name')"></i>
        </div>
    </div>
    <div id="registerPage1" class="registerPage full-screen" style="display: none">
        <div class="header">
            <img src="./images/back.svg" class="btn-back" alt="" onclick="back(this, 'helloPage')"> <span
                data-languages="create-register">Tạo tài khoản<span></span>
        </div>
        <div class="zolo-content">
            <input type="text" class="zolo-input" placeholder="Tên đầy đủ" data-languages="full-name" name="fullname" value="" autocomplete="off" />
            <i class="btn-next" alt="" onclick="register(this, 'registerPage2', 'write_name')"></i>
        </div>
    </div>
    <div id="registerPage2" class="registerPage full-screen" style="display: none">
        <div class="header">
            <img src="./images/back.svg" class="btn-back" alt="" onclick="back(this, 'registerPage1')"> <span data-languages="create-register">Tạo tài khoản</span>
        </div>
        <div class="zolo-content">
            <input type="text" class="zolo-input" placeholder="Nhập số điện thoại" data-languages="enter-phonenumber" name="phonenumber" value="" autocomplete="off" onkeydown="javascript: return event.keyCode == 69 ? false : true" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
            />
            <div id="recaptcha-container"></div>
            <i class="btn-next" alt="" onclick="register(this, 'registerPage3', 'send_otp')"></i>
        </div>
    </div>
    <div id="registerPage3" class="registerPage full-screen" style="display: none">
        <div class="header">
            <img src="./images/back.svg" class="btn-back" alt="" onclick="back(this, 'registerPage2')"> <span data-languages="create-register">Tạo tài khoản</span>
        </div>
        <div class="zolo-content">
            <input type="number" class="zolo-input" placeholder="Nhập mã xác nhận" name="otp" value="" autocomplete="off" />
            <span class="resend-text">Gửi lại mã xác nhận sau <span class="resend-time">59</span> giây</span>
            <i class="btn-next" alt="" onclick="register(this, 'registerPage4', 'verify_account')"></i>
        </div>
    </div>
    <div id="registerPage4" class="registerPage full-screen" style="display: none">
        <div class="header">
            <img src="./images/back.svg" class="btn-back" alt="" onclick="back(this, 'registerPage3')"> <span data-languages="create-register">Tạo tài khoản</span>
        </div>
        <div class="zolo-content">
            <form class="zolo-form">
                <input type="checkbox" id="show-password" class="show-password" checked>
                <label for="show-password" class="Control-label Control-label--showPassword">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="32" height="32"
                        class="svg-toggle-password" title="Toggle Password Security">
                        <title>Hide/Show Password</title>
                        <path
                            d="M24,9A23.654,23.654,0,0,0,2,24a23.633,23.633,0,0,0,44,0A23.643,23.643,0,0,0,24,9Zm0,25A10,10,0,1,1,34,24,10,10,0,0,1,24,34Zm0-16a6,6,0,1,0,6,6A6,6,0,0,0,24,18Z" />
                        <rect x="20.133" y="2.117" height="44" transform="translate(23.536 -8.587) rotate(45)"
                            class="closed-eye" />
                        <rect x="22" y="3.984" width="4" height="44" transform="translate(25.403 -9.36) rotate(45)"
                            style="fill:#fff" class="closed-eye" />
                    </svg>
                </label>
                <input type="text" class="zolo-input input-password" name="password" autocomplete="off" autocapitalize="off" autocorrect="off" required="" pattern=".{6,}" placeholder="Mật khẩu" name="password" value="" autocomplete="off" />

                <input type="checkbox" id="show-repassword" class="show-repassword" checked>
                <label for="show-repassword" class="Control-label Control-label--showRePassword">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="32" height="32"
                        class="svg-toggle-repassword" title="Toggle Password Security">
                        <title>Hide/Show Password</title>
                        <path
                            d="M24,9A23.654,23.654,0,0,0,2,24a23.633,23.633,0,0,0,44,0A23.643,23.643,0,0,0,24,9Zm0,25A10,10,0,1,1,34,24,10,10,0,0,1,24,34Zm0-16a6,6,0,1,0,6,6A6,6,0,0,0,24,18Z" />
                        <rect x="20.133" y="2.117" height="44" transform="translate(23.536 -8.587) rotate(45)"
                            class="closed-eye-2" />
                        <rect x="22" y="3.984" width="4" height="44" transform="translate(25.403 -9.36) rotate(45)"
                            style="fill:#fff" class="closed-eye-2" />
                    </svg>
                </label>
                <input type="text" class="zolo-input input-repassword" name="re_password" autocomplete="off" autocapitalize="off" autocorrect="off" required="" pattern=".{6,}" placeholder="Nhập lại mật khẩu" name="password" value="" autocomplete="off" />
                <i class="btn-next" alt="" onclick="register(this, 'loginPage', 'add_password')"></i>
            </form>
        </div>
    </div>
    <div id="createChatRoomPage" style="display: none">
        <h1>Create chat room</h1>
        <form autocomplete="off">
            <input type="search" placeholder="room name" id="room_name" value="" autocomplete="off" />
            <button type="button" onclick="createRoom();">Create room</button>
        </form>
    </div>


    <div class="zolo-popup" role="alert">
        <div class="zolo-popup-container">
            <span class="zolo-popup-header" data-languages="title-popup">Chú ý</span>
            <p>Bạn có chắc không?</p>
            <ul class="zolo-buttons">
                <li><button type="button" id="btn-ignore" data-languages="btn-ignore">Không</button></li>
                <li><button type="button" id="btn-confirm" data-languages="btn-confirm">Có</button></li>
            </ul>
        </div>
    </div>

    <div class="main-loader"></div>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: 'AIzaSyCpZX_9ycBgituf2VvTksMPlsZEIKUTg6I',
            authDomain: 'realtimechatroom-f2e99.firebaseapp.com',
            databaseURL: 'https://realtimechatroom-f2e99.firebaseio.com',
            projectId: 'realtimechatroom-f2e99',
            storageBucket: 'realtimechatroom-f2e99.appspot.com',
            messagingSenderId: '95831065723',
            appId: '1:95831065723:web:58c9bf8204c0d760a20ede',
            measurementId: 'G-Z7KY2K9QRK'
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        firebase.messaging();

        window.onload = function() {
            render();
        };

        function render() {
            window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');
            recaptchaVerifier.render();
        }

        function phoneAuth() {
            //get the number
            var phonenumber = $('input[name="phonenumber"]').val().replace("0", "+84");
            //phone number authentication function of firebase
            //it takes two parameter first one is number,,,second one is recaptcha
            firebase.auth().signInWithPhoneNumber(phonenumber, window.recaptchaVerifier).then(function(confirmationResult) {
                //s is in lowercase
                window.confirmationResult = confirmationResult;
                coderesult = confirmationResult;
                console.log(coderesult);
                alert("Message sent");
                console.log(phonenumber)
            }).catch(function(error) {
                alert(error.message);
            });
        }

        function codeverify() {
            var input_otp = $('input[name="otp"]').val();
            coderesult.confirm(input_otp).then(function(result) {
                users.set({
                    'fullname': fullname,
                    'phonenumber': phonenumber,
                    'otp': otp_,
                    'confirm': 'y'
                });
                next(self, page);
            }).catch(function(error) {
                if (input_otp == otp_) {
                    alert('otp wrong');
                } else {
                    alert("register failed");
                }
            });
        }
        $(".carousel").carousel({
            //interval: 1
        })
    </script>
</body>

</html>